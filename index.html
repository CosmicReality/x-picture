<!DOCTYPE html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="x-picture: A <picture> polyfill">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="js/vendor/highlightjs/styles/github.css">

        <script src="js/vendor/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="js/vendor/polymer/polymer.min.js"></script>

        <link rel="import" href="x-picture.html">

    </head>
    <body>
        <h1>x-picture</h1>
        <h2>Implements the <code>&lt;picture&gt;</code> element interface using <a href="http://www.polymer-project.org/">Polymer</a>, a Web Components polyfill.</h2>
        
        <p>There is much left to do and document, so please feel free to contribute.</p>

        <h2>Using x-picture</h2>
        <p>To use x-picture, simply include the Polymer library and a <code>&lt;link&gt;</code> to x-picture.html.</p>

        <pre><code>
    &lt;script src="path/to/polymer/polymer.min.js"&gt;&lt;/script&gt;
    &lt;link rel="import" href="path/to/x-picture.html" /&gt;
        </code></pre>

        <p>From there, you can use <code>&lt;x-picture&gt;</code> the same way you would <code>&lt;picture&gt;</code>. List your sources using either <code>srcset</code> or <code>src</code> attributes, and include the media query that matches the intended source in the <code>media</code> attribute.</p>
        
        <pre><code>
    &lt;x-picture alt="Description of content for accessability"&gt;
        &lt;source srcset="http://www.fillmurray.com/300/600 1x, 
                        http://www.fillmurray.com/600/1200 2x" /&gt;
        &lt;source srcset="http://www.fillmurray.com/400/600 1x, 
                        http://www.fillmurray.com/800/1200 2x" 
                        media="(min-width:400px)" /&gt;
        &lt;source srcset="http://www.fillmurray.com/500/600 1x, 
                        http://www.fillmurray.com/1000/1200 2x" 
                        media="(min-width:500px)" /&gt;
        &lt;source srcset="http://www.fillmurray.com/600/600 1x, 
                        http://www.fillmurray.com/1200/1200 2x" 
                        media="(min-width:600px)" /&gt;
        &lt;source srcset="http://www.fillmurray.com/700/600 1x, 
                        http://www.fillmurray.com/1400/1200 2x" 
                        media="(min-width:700px)" /&gt;
        &lt;img src="http://www.placecage.com/c/800/800" alt="Nic Cage" lazyload&gt;
        &lt;p&gt;Paradoxally, I am invisible AND accessible.&lt;/p&gt;

    &lt;/x-picture&gt;
        </code></pre>

        <p><code>&lt;source&gt;</code>'s are source order dependent with the last match winning. This is done to follow the cascading nature of CSS and to encourage a mobile (content) first approach.</p>
        <aside class="caution">
            <p>Fallback images inside the x-picture tag will currently always download even if it is not displayed. In a native implementation of &lt;picture&gt;, the "lazyload" attribute is to defer the start of download until the UA can detect that the &lt;img&gt; is a child of &lt;picture&gt;. At present there is not a good way to delay the start of download for a properly formatted &lt;img&gt; element as fallback.</p>
        </aside>

        <figure>
            <x-picture alt="Fill Murray: The internet was missing the ability to provide custom-sized placeholder images of Bill Murray. Now it can.">
                <source srcset="http://www.fillmurray.com/300/600 1x, 
                                http://www.fillmurray.com/600/1200 2x" />
                <source srcset="http://www.fillmurray.com/400/600 1x, 
                                http://www.fillmurray.com/800/1200 2x" media="(min-width:400px)" />
                <source srcset="http://www.fillmurray.com/500/600 1x, 
                                http://www.fillmurray.com/1000/1200 2x" media="(min-width:500px)" />
                <source srcset="http://www.fillmurray.com/600/600 1x, 
                                http://www.fillmurray.com/1200/1200 2x" media="(min-width:600px)" />
                <source srcset="http://www.fillmurray.com/700/600 1x, 
                                http://www.fillmurray.com/1400/1200 2x" media="(min-width:700px)" />
                <img src="http://www.placecage.com/c/800/800" alt="Nic Cage" lazyload />
                <p>Content to show if polymer fails.</p>
            </x-picture>
            <figcaption>
                <p>x-picture in action. Go ahead, scale your browser.</p>
                <p>Even better, open your network tab and watch as you scale. It's fun!</p>
            </figcaption>
        </figure>

    </body>
</html>
